<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n" i18n:domain="bika">
<body>

    <div id="folderlisting-main-table" class="template-symptoms bika-listing-table-container">
        <input tal:replace="structure context/@@authenticator/authenticator" />
        <input type="hidden" name="CSY_submitted" value="1"/>
		<table class="bika-listing-table">
			<thead>
				<tr>
					<th class="minwidth"></th>
					<th i18n:translate="">Code</th>
					<th i18n:translate="" class="fieldRequired">Symptom</th>
					<th i18n:translate="">Description</th>
					<th i18n:translate="">Onset</th>
				</tr>
			</thead>
			<tbody class="item-listing-tbody" tal:define="global index python:-1">
				<tr tal:repeat="row context/getSymptoms">
					<td class="minwidth">
						<input type="checkbox" 
							tal:define="global index python:index+1;"
							tal:attributes="id python:'CSY_SelectItem-%s'%(index);
                      						name python:'CSY_SelectItem-%s'%(index);" />
                      	<input type="hidden" name="CSY_SCode:list" tal:attributes="value row/Code"/>
                      	<input type="hidden" name="CSY_STitle:list" tal:attributes="value row/Title"/>
                      	<input type="hidden" name="CSY_SDescription:list" tal:attributes="value row/Description"/>
                      	<input type="hidden" name="CSY_SSymptomOnset:list" tal:attributes="value python:row.get('Onset', '')"/>
					</td>
					<td tal:content="row/Code" class="minwidth"></td>
					<td tal:content="row/Title"></td>
					<td tal:content="row/Description"></td>
					<td tal:content="python:row.get('Onset', '')"></td>
				</tr>
				<tr id="new">
					<td class="minwidth"></td>
					<td class="minwidth"><input id="Code" type="text" autocomplete="off"	readonly="readonly" disabled="disabled" class="icdcode"/></td>
					<td><input id="Title" type="text" autocomplete="off" /></td>
					<td><input id="Description" type="text" autocomplete="off" readonly="readonly" disabled="disabled" /></td>
					<td><input id="SymptomOnset" type="text" class="datepicker_nofuture" autocomplete="off" /></td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="5" style="padding: 5px;">
						<input id="add_row" type="submit" i18n:attributes="value" value="Add" class="allowMultiSubmit"/>
						<tal:hassymptoms tal:condition="python:hasattr(view, 'hasSymptoms') and view.hasSymptoms()">
							<input type="submit" name="CSY_delete" i18n:attributes="value" value="Delete selected" class="allowMultiSubmit"/>
							<input type="submit" name="CSY_clear"  i18n:attributes="value" value="Delete all" class="allowMultiSubmit"/>
						</tal:hassymptoms>
					</td>
				</tr>
			</tfoot>
		</table>
	</div>
</body>
</html>
